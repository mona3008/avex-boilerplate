(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}function a(e){var t=d();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return u(this,r)}}function u(t,r){if(r&&("object"===e(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){var t="function"==typeof Map?new Map:void 0;return s=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return f(e,arguments,m(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),y(n,e)},s(e)}function f(e,t,r){return f=d()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&y(o,r.prototype),o},f.apply(null,arguments)}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e,t){return y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},y(e,t)}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}var p=function(e){c(o,e);var r=a(o);function o(){var e;return n(this,o),(e=r.call(this)).resetActiveFilter=e.resetActiveFilter.bind(l(e)),e.debouncedOnSubmit=function(e,t){var r,n=this;return function(){for(var o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];clearTimeout(r),r=setTimeout((function(){return e.apply(n,i)}),t)}}((function(t){e.onSubmitHandler(t)}),500),e.querySelector("form").addEventListener("input",e.debouncedOnSubmit.bind(l(e))),e}return i(o,[{key:"onSubmitHandler",value:function(e){e.preventDefault();var t=new FormData(e.target.closest("form")),r=new URLSearchParams(t).toString();o.renderPage(r,e)}},{key:"resetActiveFilter",value:function(e){e.preventDefault(),o.renderPage(new URL(e.currentTarget.href).searchParams.toString())}}],[{key:"setListeners",value:function(){window.addEventListener("popstate",(function(e){var t=e.state?e.state.searchParams:o.searchParamsInitial;t!==o.searchParamsPrev&&o.renderPage(t,null,!1)}))}},{key:"updateURLHash",value:function(e){history.pushState({searchParams:e},"","".concat(window.location.pathname).concat(e&&"?".concat(e)))}},{key:"renderProductGridContainer",value:function(e){document.getElementById("ProductsList").innerHTML=(new DOMParser).parseFromString(e,"text/html").getElementById("ProductsList").innerHTML}},{key:"renderProductCount",value:function(e){var t=(new DOMParser).parseFromString(e,"text/html").getElementById("ProductsCount").innerHTML;document.getElementById("ProductsCount").innerHTML=t}},{key:"renderFilters",value:function(e,t){(new DOMParser).parseFromString(e,"text/html").querySelectorAll("#FiltersForm .js-filter").forEach((function(e){document.querySelector('.js-filter[data-index="'.concat(e.dataset.index,'"]')).innerHTML=e.innerHTML}))}},{key:"renderSectionFromFetch",value:function(e,r){fetch(e).then((function(e){return e.text()})).then((function(n){var i=n;o.renderProductGridContainer(i),o.data=[].concat(t(o.data),[{html:i,url:e}]),o.renderFilters(i,r),o.renderProductCount(i)}))}},{key:"renderSectionFromCache",value:function(e,t){var r=o.data.find(e).html;o.renderFilters(r,t),o.renderProductGridContainer(r),o.renderProductCount(r)}},{key:"renderPage",value:function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];o.searchParamsPrev=e;var n=document.getElementById("ProductsList").dataset.id;document.getElementById("ProductsList").querySelector("[data-products-list]").classList.add("loading");var i="".concat(window.location.pathname,"?section_id=").concat(n,"&").concat(e),c=function(e){return e.url===i};o.data.some(c)?o.renderSectionFromCache(c,t):o.renderSectionFromFetch(i,t),r&&o.updateURLHash(e)}}]),o}(s(HTMLElement));p.data=[],p.searchParamsInitial=window.location.search.slice(1),p.searchParamsPrev=window.location.search.slice(1),customElements.define("filter-and-sort-form",p),p.setListeners();var v=function(e){c(r,e);var t=a(r);function r(){var e;return n(this,r),(e=t.call(this)).querySelector("a").addEventListener("click",(function(t){t.preventDefault(),(e.closest("filter-and-sort-form")||document.querySelector("filter-and-sort-form")).resetActiveFilter(t)})),e}return i(r)}(s(HTMLElement));function h(){if(window.innerWidth<=768){var e=document.querySelectorAll("[data-mobile-filter-close]");e&&e.length&&e.forEach((function(e){e.addEventListener("click",(function(e){document.querySelector("[data-filters]").classList.remove("open"),document.body.classList.remove("filters-mobile-open")}),!1)}))}}customElements.define("filter-reset",v),document.querySelector("[data-filters-toggler]").addEventListener("click",(function(){var e=document.querySelector("[data-filters]");e&&(window.innerWidth<=768?(e.classList.toggle("open"),document.body.classList.toggle("filters-mobile-open")):e.classList.toggle("close"))}),!1);var b=document.getElementById("SortBy-imitator"),g=document.getElementById("SortBy");function w(){var e=document.getElementById("shopify-section-header");e.classList.contains("sticky-header")&&document.querySelector("[data-filters]")&&(document.querySelector("[data-filters]").style.top=e.offsetHeight+"px")}b.addEventListener("change",(function(e){g.value=e.target.value,g.closest("form").dispatchEvent(new Event("input"))}),!1),window.addEventListener("DOMContentLoaded",(function(){w(),h()})),window.addEventListener("resize",(function(){w(),h()}))})();