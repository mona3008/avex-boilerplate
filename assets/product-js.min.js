(()=>{const t=window.CartJS,e="#productForm",n="variant-select",o=".product-option-select",r=JSON.parse(document.getElementById("product-json").innerHTML);function c(t){var e={},n=new FormData(t);for(var o of n.keys())e[o]=n.get(o);return e}new Shopify.OptionSelectors(n,{product:r,onVariantSelected:function(t){console.log(t)},enableHistoryState:!0});const i=document.querySelector(e);i.addEventListener("submit",(function(e){e.preventDefault();const n=c(this);t.addItem(n.id,n.quantity,{},{success:(t,e)=>{console.log("Added to cart: ",t,e)},error:(t,e,n)=>{console.log("Error in adding to cart: ",n)}})})),Array.from(document.querySelectorAll(o)).map((t=>{t.addEventListener("change",(function(t){const e=c(i),n=Object.keys(e).map((t=>/^option/.test(t)&&e[t])).filter((t=>t)),o=t.target.getAttribute("name"),a=r.variants.find((t=>JSON.stringify(t.options)===JSON.stringify(n))),s=document.querySelector(`.single-option-selector[data-option=${o}]`);s.value=a[o],s.dispatchEvent(new Event("change"))}))}))})();